% $Id$
\chapter{Rock trajectory}
\section{Applying the 'Denny' model}

Mark Denny published a model in \cite{denny:98}, see \ref{denny}. To apply it
for simulation we need to
\begin{itemize}
\item compute the ice properties from the draw-to-tee time and curl.
\item transform from $t_0 = 0$ to $t_0 > 0$
\item transform the equations from rock-coordinates to world-coordinates
\item compute the initial speed of a rock from the hog-to-hog time and $y_0$
\end{itemize}

\subsection{Basic equations}
After substituting \eqref{denTau} the basic equations are:
\begin{eqnarray}
\eqlab{dennyX}
x(t) &=& -\sgn(\omega_0){{b\,g\,\mu\,t^3\,\left(3\,g\,\mu\,t-4\,v_{0}\right)}\over{48\,
 \varepsilon\,R}} \\
x'(t) &=& -\sgn(\omega_0){{b\,g\,\mu\,t^2\,\left(g\,\mu\,t-v_{0}\right)}\over{4\,\varepsilon
 \,R}} \\
x''(t) &=& -\sgn(\omega_0){{b\,g\,\mu\,t\,\left(3\,g\,\mu\,t-2\,v_{0}\right)}\over{4\,
 \varepsilon\,R}} \\
\eqlab{dennyY}
y(t) &=& -{{t\,\left(g\,\mu\,t-2\,v_{0}\right)}\over{2}} \\
\eqlab{dennyYdt}
y'(t) &=& -\left(g\,\mu\,t-v_{0}\right) \\
y''(t) &=& -g\,\mu \\
\alpha (t) &=& {{\omega_{0}\,\varepsilon\,\left(g\,\mu\,t\,\left(-{{g\,\mu\,t-v_{0
 }}\over{v_{0}}}\right)^{{{1}\over{\varepsilon}}}-v_{0}\,\left(-{{g\,
 \mu\,t-v_{0}}\over{v_{0}}}\right)^{{{1}\over{\varepsilon}}}+v_{0}
 \right)}\over{\left(\varepsilon+1\right)\,g\,\mu}} \\
\alpha '(t) &=& \omega_{0}\,\left(-{{g\,\mu\,t-v_{0}}\over{v_{0}}}\right)^{{{1
 }\over{\varepsilon}}} \\
\alpha ''(t) &=& {{\omega_{0}\,g\,\mu\,\left(-{{g\,\mu\,t-v_{0}}\over{v_{0}}}\right)
 ^{{{1}\over{\varepsilon}}}}\over{\varepsilon\,\left(g\,\mu\,t-v_{0}
 \right)}}
\end{eqnarray}

\subsection{The ice-properties $ \mu $ and $ b $}
To calculate $ \mu $ and $ b $ from the time $ T $ and curl $ B $ of a draw-to-tee
we set up the equations
\begin{eqnarray}
\eqlab{dennyXTee}
x(T) &=& B \quad \mbox{(curl)} \\
x'(T) &=& 0 \\
\eqlab{dennyYTee}
y(T) &=& D \quad \mbox{(distance hog to tee)} \\
\eqlab{dennyYdtTee}
y'(T) &=& 0 
\end{eqnarray}

\noindent Solving the set of this 4 equations leads to 

\begin{eqnarray}
b	&=&	-{{12\,B\,\varepsilon\,R}\over{D^2}} \\
\mu &=&	{{2\,D}\over{g\,T^2}} \\
v_{0} &=&	{{2\,D}\over{T}}
\end{eqnarray}

\subsection{Some initial speeds}

\textit{How hard do we have to throw a rock, that will take 12 seconds hog to
hog?}

To calculate $v_0$ at the far hog we don't use the time hog-to-tee for not
every rock reaches the tee-line. Here the time hog-to-hog ($T_H$) is better.
\begin{eqnarray}
y(T_H) &=& H \quad \mbox{(dist.~hog-to-hog)} \\
\Rightarrow \quad v_0 &=& {{g\,\mu\,T_H^2+2\,H}\over{2\,T_H}}
\end{eqnarray}

If we don't want $v_0$ at the far hog but at any given distance, things get a
little bit more complicated.

Here we use \eqref{denY} at three times

\medskip
\begin{tabular}{l@{ : }l}
$t_0          $ & our starting point \\
$t_1 \equiv 0 $ & the rock crosses the far hog \\
$T_H $          & time hog-to-hog
\end{tabular}
\medskip

\noindent
with two distances

\medskip
\begin{tabular}{l@{ : }l}
$y_0$ & distance start-to-far-hog \\
$H  $ & distance hog-to-hog
\end{tabular}
\medskip

\begin{eqnarray}
y(t_0 - t_0) &:& 0 = 0 \\
\eqlab{denVA}
y(t_1 - t_0) &:& v_0 \left(-t_0 - \frac{t_0^2 \mu g}{2 v_0}\right) = -y_0 \\
\eqlab{denVB}
y(T_H - t_0) &:& v_0 \left(T_H-t_0 - \frac{(T_H-t_0)^2\mu g}{2v_0}\right) = H-y_0 
\end{eqnarray}

\eqref{denVA} + \eqref{denVB}:
\begin{eqnarray}
H &=& v_0 T_H - T_H\frac{\mu g}{2} + T_H t_0 \mu g \\
\Longrightarrow\quad
t_0 &=& \frac{H - v_0 T_H + T_H^2\frac{\mu g}{2}}{ T_H \mu g }
\end{eqnarray}

Substituting this into \eqref{denVA} and solving for $v_0$ gives
\begin{eqnarray}
\Longrightarrow v_0 =  \frac{1}{2}\cdot 
    \sqrt{
	\left(\mu g T_H + 2\frac{H}{T_H}\right)^2 +
	4 \mu g H - 
	8 \mu g y_0
    }
\end{eqnarray}

If you prefer using $Y_0$ measured from the tee, use
\begin{eqnarray}
\Longrightarrow v_0 =  \frac{1}{2}\cdot 
    \sqrt{
	\left(\mu g T_H + 2\frac{H}{T_H}\right)^2 + 
	4 \mu g H - 
	8 \mu g (\mbox{far-hog-to-tee} - Y_0)
    }
\end{eqnarray}

\subsection{Coordinate transformation}

Because of Denny assumes the rock to start at
$(0,0)^T$ with $v_0$ pointing along the $\hat{y}$-axis, we need a
rotation and shift to get the general equations.

\begin{eqnarray}
{x \choose y} &:=& \frac{ \vec{v}_\mathrm{real} }{ | \vec{v}_\mathrm{real} | }
\end{eqnarray}

\begin{eqnarray}
\mbox{The required transformation is:}\quad
\left(\begin{array}{cc}
 y &  x \\
 x & -y
\end{array}\right)
\end{eqnarray}

Applying this trafo to e.g.\ ${a \choose b}$ results in
\begin{eqnarray}
\left(\begin{array}{cc}
 y &  x \\
 x & -y
\end{array}\right)
\cdot {a \choose b} &=&
{ay+bx \choose ax-by}
\end{eqnarray}
%
where $a$ and $b$ are polynomes of max.\ fourth degree:
%
\begin{eqnarray}
a &=:& At^4 + Bt^3 + Ct^2 + Dt + E \\
b &=:& \alpha t^4 + \beta t^3 + \gamma t^2 + \delta t + \phi
\end{eqnarray}

This leads to a x-component of
\begin{eqnarray}
&& y ( At^4 + Bt^3 + Ct^2 + Dt + E ) + \nonumber \\
&& x ( \alpha t^4 + \beta t^3 + \gamma t^2 + \delta t + \phi ) \\
&=& (Ay + \alpha x)t^4 + \ldots + (Ey + \phi x)
\end{eqnarray}

and a y-component of
\begin{eqnarray}
&&  x ( At^4 + Bt^3 + Ct^2 + Dt + E ) + \nonumber \\
&& -y ( \alpha t^4 + \beta t^3 + \gamma t^2 + \delta t + \phi ) \\
&=& (Ax - \alpha y)t^4 + \ldots + (Ex - \phi y)
\end{eqnarray}

Now just the shift is missing.

\clearpage
